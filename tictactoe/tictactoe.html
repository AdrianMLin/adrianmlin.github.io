<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Tic Tac Toe</title>
	<link rel="stylesheet" href="./style.css">
</head>
<body>

	<div id="game_space">

		<div id="top">
			<div id="title">
				<h1>Tic-Tac-Toe</h1>
				<h3>By Adrian M Lin</h3>
			</div>
			<div id="settings">
				<button id="sv_restart">Clear Board</button>
			</div>
		</div>
		


		<div id="board">
			<div class="row">
				<div class="square"><h1></h1></div>
				<div class="square"><h1></h1></div>
				<div class="square"><h1></h1></div>
			</div>

			<div class="row">
				<div class="square"><h1></h1></div>
				<div class="square"><h1></h1></div>
				<div class="square"><h1></h1></div>
			</div>

			<div class="row">
				<div class="square"><h1></h1></div>
				<div class="square"><h1></h1></div>
				<div class="square"><h1></h1></div>
			</div>
		</div>
	
	</div>
	
	

	<script>
		//################################//
		//########## Variables ###########//
		//################################//

		var rows = document.getElementsByClassName('row');
		var squares = document.getElementsByClassName('square');
		var buttonReset = document.getElementById('sv_restart');
		var playerTurn = "O"; //variable set, x starts
		var board = document.getElementById('board');
		var boardMatrix = []; //used in makeBoardMatrix()
		makeBoardMatrix();









		//################################//
		//####### Event Listeners ########//
		//################################//

		//Setting event listeners on squares
		for(i=0; i<squares.length; i++) {
			squares[i].addEventListener('click', function(event) {
				makeMove();
				// var rowIndex = Math.floor(i/rows.length);
				// var cellIndex = i % rows.length;
				// boardMatrix[rowIndex][cellIndex] = squares[i].children[0].innerText;
 
			});
		}

		// for(i=0; i<rows.length; i++){
		// 	for(t=0; t<rows[i].length; t++){
		// 		rows[i].children[t].addEventListener('click', function(event){
		// 			makeMove();


		// 		})
		// 	}
		// }

		//Setting event listener on reset board button
		buttonReset.addEventListener('click', function(event) {
			resetBoard();
		})









		//################################//
		//########## Functions ###########//
		//################################//

		//create board matrix
		function makeBoardMatrix(){
			var rowCount = rows.length // number of rows => 3
			var rowLength = rows[0].children.length // number of squares in row => 3
			for(i=0; i<rowCount; i++){ //for ever row, do the following
				var boardMatrixRow = [];
				for(t=0; t<rowLength; t++){ //oops, used i twice so it only made one row.
					boardMatrixRow.push("_");
				}
				boardMatrix.push(boardMatrixRow);
			}
		}

		
		//reset board
		function resetBoard() {
			for(i=0; i<squares.length; i++) {
				squares[i].children[0].innerText = ""
			}
		}


		//making boxes fill in
		function makeMove() { 
			if(event.target.children[0].innerText == "") {
				if(playerTurn == "X") {
					playerTurn = "O";
				} else if (playerTurn == "O") {
					playerTurn = "X";
				}
				event.target.children[0].innerText = playerTurn;
			}
		}

		// function updateMatrix(symbol){
		// 	rows
		// }

		// function updateRow(symbol){
		// 	for(i=0; i<rows.length; i++){
		// 		rows[i]
		// 	}
		// }

		//win checking

		function checkWinRow(){
			var winCondition = true;
			var symbol = "@"

			boardMatrix.forEach(function(row){
				symbol = row[0]
				for(i=0; i<row.length; i++){
					if(row[i] != row[0] || row[i] == "_"){
						winCondition = false;
					}
				}
			})
			alertWin(winCondition, symbol);
		}

		function alertWin(win, player){
			if(win == true){
				alert(player + " wins! (ﾉ◕ヮ◕)ﾉ*:･ﾟ✧*:･ﾟ✧");
			}	
		}

		// convert to 2 dimensional array
































		// //win checking

		// function checkWinsByRow() {
		// 	var rows = document.getElementsByClassName('row');
		// 	var rowLength = rows[0].children.length 
		// 	var winlengthRequirement = 3; //this may change later

		// 	console.log("checking win by rows")

		// 	//






		// 	//check each row in turn
		// 	for(i=0; i<rowLength; i++) {
		// 		var thisRow = rows[i]
		// 		var win = true;

		// 		//checking x win on row i
		// 		for(i=0; i<rowLength; i++) {
		// 			if(thisRow.children[i].children[0].innerText != "X"){
		// 				win = false;
		// 			}
		// 		}
		// 		if(win == true){
		// 			alert('x wins!');
		// 			resetBoard();
		// 		}

		// 	}
		// }





		//size change?
			// this means i may need to have sass variables for my style settings




		// //clearing the board if all filled
		// board.addEventListener('click', function(event) {
		// 	var boardFilled = true

		// 	for(i=0; i<squares.length; i++) {
			
		// 		//iterate through all squares, see if any are unfilled
		// 		if(squares[i].children[0].innerText == "") {
		// 			boardFilled = false
		// 		}
		// 		console.log(boardFilled)

		// 		//if they are true, set all square.h1.innerText to 0
		// 		if(boardFilled == true) {
		// 			for(i=0; i<squares.length; i++) {
		// 				squares[i].children[0].innerText = ""
		// 			}
		// 		}
		// 		console.log(boardFilled)
		// 	}
			
		// })
					
			


	</script>
</body>
</html>